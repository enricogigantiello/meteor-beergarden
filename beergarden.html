
 
<template name="product">

	 
   <form class="form-inline" role="form">
    <div class="form-group">
      <div class="col-xs-1">        
         <input type="text" class="form-control" value="{{name}}" name="name"  placeholder="name">
      </div>

      <div class="col-xs-1">      
       <input type="text" class="form-control" value="{{price}}" name="price" placeholder="price 4.5">
      </div>

      <div class="col-xs-1">
        <input type="text" class="form-control" value="{{image}}" name="image" placeholder="image" >
      </div>

      <div class="col-xs-1">
         <input type="text" class="form-control" value="{{volume}}" name="volume" placeholder="volume 0.2" >
      </div>

      <div class="col-xs-1">
        <input type="text" class="form-control" name="type" value="{{type}}" placeholder="type" />
      </div>

      <div class="col-xs-1">
        <input type="text" class="form-control" value="{{served}}" name="served"  placeholder="served" />
      </div>

      <div class="col-xs-1">
        <input type="text" class="form-control" value="{{description}}" name="description"  placeholder="description"/>
      </div>

      <div class="col-xs-1">
        <input type="text" class="form-control" value="{{menu_name}}" name="menu_name"  placeholder="menu name" />
    
      </div>
       <div class="col-xs-1">       
      </div>

      <div class="col-xs-1">
       
        <label for="finished">finished</label>
        <input type="checkbox" {{isfinished}}  id="finished" class="toggle-finished" />
      </div>

      <div class="col-xs-1">
        <label for="sellable">sellable</label>

        <input type="checkbox" {{issellable}} id="sellable" class="toggle-sellable" />
      </div>

     

      <div class="col-xs-1">
        <img src="/images/{{image}}"  class="img-responsive img-circle">
        <button class="delete">&times;</button>
      </div>

      

    </div>
    </form> 
 </template>


 <template name="manageProducts">
  <div class="container-fluid">
   <table class="table table-striped">
     <thead>
       <tr>
         <form class="new-prod form-inline" role="form">
         <input type="text" class="form-control" name="name"  placeholder="name" />
         <input type="text" class="form-control" name="price" placeholder="price 4.5" />
         <input type="text" class="form-control" name="image" placeholder="image" />
         <input type="text" class="form-control" name="volume" placeholder="volume 0.2" />
         <input type="text" class="form-control" name="type" placeholder="type" />
         <input type="text" class="form-control" name="served" placeholder="served" />
         <input type="text" class="form-control" name="menu_name" placeholder="menu_name" />
         <input type="text" class="form-control" name="description" placeholder="description" />
         <label >sellable</label>
         <input type="checkbox" name="sellable" />
         <input type="submit" value="Submit">
       </form>
       </tr>
     </thead>
     <tbody>
     {{#each products}}
         <tr>{{> product}}</tr>
       {{/each}}
       
     </tbody>
   </table>
   </div>
 </template>

<template name="home">
   {{> loginButtons}}

 {{#if currentUser}}
  
   <img src="{{imageUrl}}"  class="img-responsive img-circle" style="width: 100px; height: 100px;">
   {{/if}}


</template>

<template name="main">
    
    {{> navigation}}
    
    {{> yield}}  
</template>       

<template name="navigation">
  {{#if currentUser}}
  <div class="row">
    <div class="col-xs-6">
      <ul class="list-inline">
        <li><a href="{{pathFor route='home'}}">Home</a></li>
        <li><a href="{{pathFor route='manageProducts'}}">manage_products</a></li>
        <li><a href="{{pathFor route='orders'}}">orders</a></li>
        <li><a href="{{pathFor route='schedules'}}">schedules</a></li>
       
        
      </ul>
    </div>
    <div class="col-xs-6">
     
      
      
      
    </div>
  </div>
  {{/if}}
    

    
</template> 

<template name="schedules">
    

    <div class="row">
    <div class="col-xs-3 well" ></div>
    
    {{#each dates}}
    <div class="col-xs-1 add">
      {{date.getWeekDay}}, {{date.getDate}} {{date.getMonthName}}
      {{>displayDate schedule_id = _id}}
    </div>
    
    {{/each }}
    <div class="col-xs-2 well" >
      
    {{#each workers}}
      <img src="{{imageUrl}}"  class="img-responsive img-circle" style="width: 50px; height: 50px;">{{username}}
    {{/each}}</div>

    </div>
     
</template>  

<template name="displayDate">

   <button type="button" class="btn btn-default" data-toggle="modal" data-target="#insertUser">
    <span class="glyphicon glyphicon-plus" aria-hidden="true" ></span> Add
   </button> 
   {{>insertUserModal workers}}
   <h6>{{schedule_id}}</h6>

   <h6>cassa</h6>
    {{#each cash}}
    <img src="{{imageUrl}}"  class="img-responsive img-circle" style="width: 50px; height: 50px;">{{username}}
   <!-- <input type="text" class="form-control modify" name="cash" value="{{username}}"  placeholder="name"> -->
    {{/each}}

  <h6>bar</h6>
    {{#each bar}}
    
    <img src="{{imageUrl}}"  class="img-responsive img-circle" style="width: 50px; height: 50px;">{{username}}
    {{/each}}
      
  <h6>camerieri</h6>
    {{#each waiters}}
    
    <img src="{{imageUrl}}"  class="img-responsive img-circle" style="width: 50px; height: 50px;">{{username}}
    {{/each}}
  
</template> 

<template name="insertUserModal">
  <div id="insertUser" class="modal fade" role="dialog">
    <div class="modal-dialog">

      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">Va a Fatikà</h4>
        </div>
        <div class="modal-body">
         <form role="form" id="addWorker">
           <div class="form-group">
             <label for="sel1">Postazione:</label>
             <select class="form-control" id="sel1" name="role">
               <option value="cash">cassa</option>
               <option value="bar">bar</option>
               <option value="waiters">cameriere</option>
               <option value="kitchen">cucina</option>
               <option value="door">porta</option>

             </select>

           </div>
           <div class="form-group">
             <label for="sel2">Chi:</label>
             <select class="form-control" id="sel2" name="username">
                {{#each workers}}
                  <option value="{{_id}}">{{username}}</option>
                {{/each}}
              
             </select>
           </div>
           <button type="submit" class="btn btn-default " >Submit</button>
         </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
      </div>

    </div>
  </div>
</template>

<template name="addOrder">
  <div class="row">
    <div class="col-sm-4">
    </div>
    <div class="col-sm-4 well">
      <form>Create a order:
        <input type="text" class="form-control" placeholder="guest name " name="guestName">
        <input type="text" class="form-control" placeholder="table num " name="tableNum">
        <button type="submit" class="btn btn-default">
        <span class="glyphicon glyphicon-plus" aria-hidden="true"></span> Add
        </button>
    </form>
    </div>
    <div class="col-sm-4"></div>
  </div>
</template>  

<template name="orders">
    <h2>Orders</h2>
    {{> addOrder}}
    <br>
    <div class="row">
        
    </div>
    {{#each grouped_orders}}
      {{> orderRow }}
    {{/each}}
    
</template>   

<template name='orderRow'>
  <div class='row span12' style="display:flex;">
    {{#each row }}
      {{> orderItem}}
    {{/each}}
  </div>
</template>

<template name="orderItem">
  <div class="col-md-3 panel panel-default" style="padding-left: 0px; padding-right: 0px">
    <div class="panel-heading">
      <h3 class="panel-title">
        <span class="label label-default">
          <span class="glyphicon glyphicon-user" aria-hidden="true"></span>
          {{guestName}}    Tav:{{tableNum}}
        </span>

        <span class="label label-default pull-right">{{bill}}€</span>
      </h3>
    </div>
    <a class = "selectOrder" href="/order/{{_id}}">
    <div class="panel-body">
      
        <ul>
          {{#each items}}
            <li>
              {{quantity}} {{name}} {{sub_total}}€
            </li>
          {{/each}} 
         </ul>  

         <br>
         <h5> Payed </h5>    

         <ul>
          {{#each payedItems}}
            <li><strike>
              {{quantity}} {{name}} {{price}}€
            </strike></li>
          {{/each}} 
         </ul>                           
      
    </div>
    </a>
    <div class="panel-footer">
      <button class="delete">&times;</button> 
    <button type="button" class="btn btn-default btn-xs pay pull-right">
        <span class="glyphicon glyphicon-euro" aria-hidden="true"></span> Puosésò
      </button>
    </div>

  </div>
</template>



<template name="menu">
    {{#each menu_products}}
    <div class="well well-sm">
      {{name}}

      <ul class="list-inline" >
      {{#each products}}
         <li class="menu_item" id="{{_id}}">
          <div class="row">
            <div class="col-sm-12">
            {{menu_name}}
            <a href="#" class = "add">
              <img  src="/images/{{image}}" alt="{{name}}" class="img-responsive img-circle" style="width: 60px; height: 60px;">
            </a>     
          </div>     
        </div>
      </li>
      {{/each}}
      </ul>

    </div>
 
    {{/each}}
</template>

<template name="listOrder">
  <div class="row con">
    <div class="col-xs-5 col-sm-5 col-md-5 col-lg-5 fixed">
      <h4>Order: {{guestName}} Table: {{tableNum}}  Bill: {{bill}}</h4>

      {{#each items}}
        <div class="row ">

          <div class="col-xs-1">
          <button class="delete">&times;</button>
          </div>
          
          <div class="col-xs-6">
            {{quantity}} {{name}} ({{menu_name}})
           
          </div>
          
            
          <div class="col-xs-1">
            <div class="btn-group">
            <button type="button" class="btn btn-xs btn-default lowerPrice" aria-label="Right Align"><span class="glyphicon glyphicon-chevron-down" aria-hidden="true"></span></button>
            </div>
            
          </div>
          <div class="col-xs-1">
            {{sub_total}}€
          </div>

          <div class="col-xs-1">
            <div class="btn-group">
              <button type="button" class="btn btn-xs btn-default raisePrice" aria-label="Right Align"><span class="glyphicon glyphicon-chevron-up" aria-hidden="true"></span></button>
            </div>  
          </div>  
             
          <div class="col-xs-2">
            <button type="button" class="btn btn-default btn-xs payItem"><span class="glyphicon glyphicon-euro" aria-hidden="true"></span> Pav</button>
          </div>

        </div>
              
      {{/each}}
          
      <button type="button" class="btn btn-default btn-xs pay">
        <span class="glyphicon glyphicon-euro" aria-hidden="true"></span> Puosésò
      </button>

      <br>
      <br>
      {{#each payedItems}}
        <div class="row ">
          
          <div class="col-xs-6">
            {{quantity}} {{name}} ({{menu_name}})
          </div>
          
          <div class="col-xs-6">
            {{price}}€
          </div>

        

        </div>
              
      {{/each}}

    </div>
    <div class="col-xs-7 col-sm-7 col-md-7 col-lg-7 scrollit">
      <h2>Menu</h2>
        {{> menu}}
    </div>
  </div>
</template>


