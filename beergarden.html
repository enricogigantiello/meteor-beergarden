
 
<template name="manageUsers">
  {{#each users}}
  <form class="form-inline" role="form">
    
    <div class="well">
      <div class="row">
        
        <div class="col-lg-3">        
           <input type="text" class="form-control" value="{{username}}" name="username"  placeholder="username">
        </div>
        <div class="col-lg-3">        
          {{role}}
           <select class="form-control select" name="role">
            <option value="admin">admin</option>
            <option value="worker">worker</option>
            <option value="username">user</option>
            
          </select> 
        </div>
        <div class="col-lg-3">        
           <input type="text" class="form-control" value="{{imageUrl}}" name="imageUrl"  placeholder="imageUrl">
        </div>
        <div class="col-lg-1">
          <img src="{{imageUrl}}"  class="img-responsive img-circle">
         
        </div>
        <div class="col-lg-2">
          <button class="delete">&times;</button>
         
        </div>

         
        
      </div>
   </div>
   

  </form>
  {{/each}}

</template>
<template name="product">

	 
   <form class="form-inline" role="form">
    <div class="form-group row">
      <div class="col-xs-1">        
         <input type="text" class="form-control" value="{{name}}" name="name"  placeholder="name">
      </div>

      <div class="col-xs-1">      
       <input type="text" class="form-control" value="{{price}}" name="price" placeholder="price 4.5">
      </div>

      <div class="col-xs-1">
        <input type="text" class="form-control" value="{{image}}" name="image" placeholder="image" >
      </div>

      <div class="col-xs-1">
         <input type="text" class="form-control" value="{{volume}}" name="volume" placeholder="volume 0.2" >
      </div>

      <div class="col-xs-1">
        <input type="text" class="form-control" name="type" value="{{type}}" placeholder="type" />
      </div>

      <div class="col-xs-1">
        <input type="text" class="form-control" value="{{served}}" name="served"  placeholder="served" />
      </div>

      <div class="col-xs-1">
        <input type="text" class="form-control" value="{{description}}" name="description"  placeholder="description"/>
      </div>

      <div class="col-xs-1">
        <input type="text" class="form-control" value="{{menu_name}}" name="menu_name"  placeholder="menu name" />
    
      </div>
       <div class="col-xs-1">       
      </div>

      <div class="col-xs-1">
       
        <label for="finished">finished</label>
        <input type="checkbox" {{isfinished}}  id="finished" class="toggle-finished" />
      </div>

      <div class="col-xs-1">
        <label for="sellable">sellable</label>

        <input type="checkbox" {{issellable}} id="sellable" class="toggle-sellable" />
      </div>

     

      <div class="col-xs-1">
        <img src="/images/{{image}}"  class="img-responsive img-circle">
        <button class="delete">&times;</button>
      </div>

      

    </div>
    </form> 
 </template>


 <template name="manageProducts">
  <div class="container-fluid">
    <form class="new-prod form-inline" role="form">
     <input type="text" class="form-control" name="name"  placeholder="name" />
     <input type="text" class="form-control" name="price" placeholder="price 4.5" />
     <input type="text" class="form-control" name="image" placeholder="image" />
     <input type="text" class="form-control" name="volume" placeholder="volume 0.2" />
     <input type="text" class="form-control" name="type" placeholder="type" />
     <input type="text" class="form-control" name="served" placeholder="served" />
     <input type="text" class="form-control" name="menu_name" placeholder="menu_name" />
     <input type="text" class="form-control" name="description" placeholder="description" />
     <label >sellable</label>
     <input type="checkbox" name="sellable" />
     <input type="submit" value="Submit">
    </form>
    <br><br>
    {{#each products}}
       {{> product}}
     {{/each}}
  </div>
</template>

<template name="home">
   {{> loginButtons}}

      {{#if currentUser}}
  
   <img src="{{imageUrl}}"  class="img-responsive img-circle" style="width: 100px; height: 100px;">
   {{/if}}
</template>

<template name="main">
    
    {{> navigation}}
    
    {{> yield}}  
</template>       

<template name="navigation">
  {{#if currentUser}}
  <div class="row">
    <div class="col-xs-6">
      <ul class="list-inline">
        <li><a href="{{pathFor route='home'}}">Home</a></li>
        <li><a href="{{pathFor route='manageProducts'}}">manageProducts</a></li>
        <li><a href="{{pathFor route='orders'}}">orders</a></li>
        <li><a href="{{pathFor route='schedules'}}">schedules</a></li>
        <li><a href="{{pathFor route='manageUsers'}}">manageUsers</a></li>
		<li><a href="{{pathFor route='mobileOrders'}}">mobileOrders</a></li>
       
        
      </ul>
    </div>
    <div class="col-xs-6">
     
      
      
      
    </div>
  </div>
  {{/if}}
        
</template> 

<template name="schedules">
    

    <div class="row">
    <div class="col-xs-3 well" ></div>
    {{#if dates}}
    {{#each dates}}
    <div class="col-xs-1">
      {{date.getWeekDay}}, {{date.getDate}} {{date.getMonthName}}
      <div class="add">
         <button type="button" class="btn btn-default" data-toggle="modal" data-target="#insertUser">
       <span class="glyphicon glyphicon-plus" aria-hidden="true" ></span> Add
      </button> 
    </div>
      
    
    {{>displayDate day_schedule=this day_id=this._id}}
    </div>
    
    {{/each }}
    {{else}}
      <div class="generate">
         <button type="button" class="btn btn-default">
       <span class="glyphicon glyphicon-plus" aria-hidden="true" ></span> Genera
      </button> 
    </div>
    {{/if}}
    <div class="col-xs-2 well" >
      
      {{#each workers}}
        <img src="{{imageUrl}}"  class="img-responsive img-circle" style="width: 50px; height: 50px;">{{username}}
      {{/each}}
    </div>

    </div>

    {{>insertUserModal workers}}
     
</template>  

<template name="displayDate">

  <div class="well">

   <h4>cassa</h4>
    {{#each day_schedule.cash}}
    <img src="{{imageUrl}}"  class="img-responsive img-circle" style="width: 30px; height: 30px;">
    <h6>{{username}}</h6>
    
    <button class="delete" name="cash">&times;</button>
    {{/each}}
  </div>

  <h4>bar</h4>
    {{#each day_schedule.bar}}
    
    <img src="{{imageUrl}}"  class="img-responsive img-circle" style="width: 30px; height: 30px;">
    <h6>{{username}}</h6>
    <button class="delete" name="bar">&times;</button>
    {{/each}}
      
  <h4>camerieri</h4>
    {{#each day_schedule.waiters}}
    <img src="{{imageUrl}}"  class="img-responsive img-circle" style="width: 30px; height: 30px;">
    <h6>{{username}}</h6>
    <button class="delete" name="waiters">&times;</button>
    {{/each}}

  <h4>cucina</h4>
    {{#each day_schedule.kitchen}}
    <img src="{{imageUrl}}"  class="img-responsive img-circle" style="width: 30px; height: 30px;">
    <h6>{{username}}</h6>
    <button class="delete" name="kitchen">&times;</button>
    {{/each}}

  <h4>porta</h4>
    {{#each day_schedule.door}}
    <img src="{{imageUrl}}"  class="img-responsive img-circle" style="width: 30px; height: 30px;">
    <h6>{{username}}</h6>
    <button class="delete" name="door">&times;</button>
    {{/each}}
  
</template> 

<template name="insertUserModal">
  <div id="insertUser" class="modal fade" role="dialog">
    <div class="modal-dialog">

      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">Va a Fatikà</h4>
        </div>
        <div class="modal-body">
         <form role="form" id="addWorker">
           <div class="form-group">
             <label for="sel1">Postazione:</label>
             <select class="form-control" id="sel1" name="role">
               <option value="cash">cassa</option>
               <option value="bar">bar</option>
               <option value="waiters">cameriere</option>
               <option value="kitchen">cucina</option>
               <option value="door">porta</option>

             </select>

           </div>
           <div class="form-group">
             <label for="sel2">Chi:</label>
             <select class="form-control" id="sel2" name="username">
                {{#each workers}}
                  <option value="{{_id}}">{{username}}</option>
                {{/each}}
              
             </select>
           </div>
           <button type="submit" class="btn btn-default " >Incatasta</button>
         </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
      </div>

    </div>
  </div>
</template>

<template name="addOrder">
  <div class="row">
    <div class="col-sm-4">
    </div>
    <div class="col-sm-4 well">
      <form>Create a order:
        <input type="text" class="form-control" placeholder="guest name " name="guestName">
        <input type="text" class="form-control" placeholder="table num " name="tableNum">
        <button type="submit" class="btn btn-default">
        <span class="glyphicon glyphicon-plus" aria-hidden="true"></span> Add
        </button>
    </form>
    </div>
    <div class="col-sm-4"></div>
  </div>
</template>  

<template name="orders">
    <h2>Orders</h2>
    {{> addOrder}}
    <br>

    {{#each grouped_orders}}
      {{> orderRow }}
    {{/each}}
    
</template>   

<template name='orderRow'>
  <div class='row span12' style="display:flex;">
    {{#each row }}
      {{> orderItem}}
    {{/each}}

    {{>insertProductModal}}
  </div>
</template>

<template name="orderItem">
  <div class="col-md-3 panel panel-default " style="padding-left: 0px; padding-right: 0px">
    <div class="panel-heading">
      <h3 class="panel-title selectOrder">
        <div class="row">
          <div class="col-xs-4" >
            <span class="label label-default">
              <span class="glyphicon glyphicon-user" aria-hidden="true"></span>
              {{guestName}}    Tav:{{tableNum}}
            </span>

          </div>
            <div class="col-xs-1" >
      
          </div>
          <div class="col-xs-1" >
            <button class="btn btn-default"><span class="glyphicon glyphicon-edit editOrder "  name="{{_id}}" aria-hidden="true"></span></button>
          </div>
          
          <div class="col-xs-1" >
            <button type="button" class="btn btn-default" data-toggle="modal" data-target="#insertProduct">        
              <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
            </button>
          </div>
        
          <div class="col-xs-1" >
            <a class = "selectOrder" href="/order/{{_id}}">
               <button class="btn btn-default"><span class="glyphicon glyphicon-fullscreen" aria-hidden="true"></span></button>
            </a>
          </div>
          <div class="col-xs-1" >
      
          </div>
          <div class="col-xs-3" >
            <div class="input-group">
            <input type="text" class="form-control pull-right bill" value="{{bill}}" name="bill" placeholder="0">
            <span class="input-group-addon">€</span>
            </div>
          </div>
        </div>
      </h3>
    </div>
    <!--<a class = "selectOrder" href="/order/{{_id}}">-->
    <div class="panel-body selectOrder focus" id="{{_id}}">
      {{>listItemMobile}}      
    </div>
    
    <div class="panel-footer">
      <button class="deleteOrder">&times;</button> 
    <button type="button" class="btn btn-default btn-xs pay pull-right">
        <span class="glyphicon glyphicon-euro" aria-hidden="true"></span> Puosésò
      </button>
    </div>

  </div>
</template>

<template name="insertProductModal">
  <div id="insertProduct" class="modal fade" role="dialog">
    <div class="modal-dialog">

      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">Aggiungi prodotto</h4>
        </div>
        <div class="modal-body">
         {{>menu}}
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
      </div>

    </div>
  </div>
</template>



<template name="menu">
    {{#each menu_products}}
    <div class="well well-sm">
      {{name}}

      <ul class="list-inline" >
      {{#each products}}
         <li class="menu_item" id="{{_id}}">
          <div class="row">
            <div class="col-sm-12">
            {{menu_name}}
            <a href="#" class = "add">
              <img  src="/images/{{image}}" alt="{{name}}" class="img-responsive img-circle" style="width: 60px; height: 60px;">
            </a>     
          </div>     
        </div>
      </li>
      {{/each}}
      </ul>

    </div>
 
    {{/each}}
</template>



<template name="listItem">
   {{#each items}}
    <div class="row ">

      <div class="col-xs-1 edit">
      <button class="delete">&times;</button>
      </div>
      
      <div class="col-xs-6">
        {{quantity}} {{name}} ({{menu_name}})
       
      </div>
      
        
      <div class="col-xs-1  edit">
        <div class="btn-group">
        <button type="button" class="btn btn-xs btn-default lowerPrice" aria-label="Right Align"><span class="glyphicon glyphicon-chevron-down" aria-hidden="true"></span></button>
        </div>
        
      </div>
      <div class="col-xs-1 ">
        {{sub_total}}€
      </div>

      <div class="col-xs-1  edit">
        <div class="btn-group">
          <button type="button" class="btn btn-xs btn-default raisePrice" aria-label="Right Align"><span class="glyphicon glyphicon-chevron-up" aria-hidden="true"></span></button>
        </div>  
      </div>  
         
      <div class="col-xs-2 edit">
        <button type="button" class="btn btn-default btn-xs payItem"><span class="glyphicon glyphicon-euro" aria-hidden="true"></span> Pav</button>
      </div>

    </div>
          
    {{/each}}

    <br>
    {{#each payedItems}}
      <div class="row ">
        
        <div class="col-xs-6">
          <strike>{{quantity}} {{name}} ({{menu_name}})</strike>
        </div>
        
        <div class="col-xs-6">
          {{price}}€
        </div>

      

      </div>
            
    {{/each}}      

    
</template>   


<template name="listOrder">
  <div class="row con">
    <div class="col-xs-5 col-sm-5 col-md-5 col-lg-5 fixed">
      <h4>Order: {{guestName}} Table: {{tableNum}}  Bill: {{bill}}</h4>
      {{>listItem}}

          
      <button type="button" class="btn btn-default btn-xs pay">
        <span class="glyphicon glyphicon-euro" aria-hidden="true"></span> Puosésò
      </button>

   
    </div>
    <div class="col-xs-7 col-sm-7 col-md-7 col-lg-7 scrollit">
      <h2>Menu</h2>
        {{> menu}}
    </div>
  </div>
</template>

<template name="mobileOrders">
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
	</head>
	<div class="row">
		<div class="col-xs-2">
		</div>
		<div class="col-xs-8 well">
			<form>Create a order:
			<input type="text" class="form-control" placeholder="guest name " name="guestName">
			<input type="text" class="form-control" placeholder="table num " name="tableNum">
			<button type="submit" class="btn btn-default">
				<span class="glyphicon glyphicon-plus" aria-hidden="true"></span> Add
			</button>
			</form>
		</div>
		<div class="col-xs-2"></div>
	</div>
	
	{{#each orders}}
		<a class = "selectOrder" href="/mobileOrder/{{_id}}">
		 <div class="row well">
          <div class="col-xs-6" >
            <h4>
			<span class="label label-default">
              <span class="glyphicon glyphicon-user" aria-hidden="true"></span>
              {{guestName}}
            
              Tav:{{tableNum}}
            </span>
			</h4>
          </div>
		  
		  <div class="col-xs-2">
            
          		  
		  </div>
   
          <div class="col-xs-4" >
            <div class="input-group">
            <input type="text" class="form-control pull-right bill" value="{{bill}}" name="bill" placeholder="0" readonly>
            <span class="input-group-addon">€</span>
            </div>
          </div>
        </div>
		</a>
	{{/each}}
	
	
</template>

<template name="modifyMobileOrder">
 <div class="row well">
  <div class="col-xs-6" >
	<h4>
	<span class="label label-default">
	  <span class="glyphicon glyphicon-user" aria-hidden="true"></span>
	  {{guestName}}
	
	  Tav:{{tableNum}}
	</span>
	</h4>
  </div>
  
  <div class="col-xs-2">	  
  </div>

  <div class="col-xs-4" >
	<div class="input-group">
	<input type="text" class="form-control pull-right bill" value="{{bill}}" name="bill" placeholder="0" readonly>
	<span class="input-group-addon">€</span>
	</div>
  </div>
 </div>
 
 {{>listItemMobile}}
 <br>
 {{>menuMobile}}
 
 




</template>

<template name="listItemMobile">
   {{#each items}}
    <div class="row ">

      <div class="col-xs-1 ">
      <button class="delete">&times;</button>
      </div>
      
      <div class="col-xs-6">
        {{quantity}} {{name}} ({{menu_name}})
       
      </div>
      
        
    
      <div class="col-xs-1 ">
        {{sub_total}}€
      </div>


    </div>
          
    {{/each}}

    <br>
    {{#each payedItems}}
      <div class="row ">
		<div class="col-xs-1 ">
			<button class="delete">&times;</button>
		</div>
        
        <div class="col-xs-6">
          <strike>{{quantity}} {{name}} ({{menu_name}})</strike>
        </div>
        
        <div class="col-xs-5">
          {{price}}€
        </div>

      

      </div>
            
    {{/each}}      

    
</template>   

<template name="menuMobile">
    {{#each menu_products}}
	<div class="panel-group" id="accordion">
    <div class="panel panel-default" id="panel{{name}}">
        <div class="panel-heading">
             <h4 class="panel-title">
        <a data-toggle="collapse" data-target="#collapse{{name}}" 
           href="#collapse{{name}}">
          {{name}}
        </a>
      </h4>

        </div>
        <div id="collapse{{name}}" class="panel-collapse collapse ">
            <div class="panel-body">
				<ul class="list-inline" >
				  {{#each products}}
					 <li class="menu_item" id="{{_id}}">
					  <div class="row">
						<div class="col-sm-12">
						{{menu_name}}
						<a href="#" class = "add">
						  <img  src="/images/{{image}}" alt="{{name}}" class="img-responsive img-circle" style="width: 60px; height: 60px;">
						</a>     
					  </div>     
					</div>
				  </li>
				  {{/each}}
				 </ul>
			</div>
        </div>
    </div>


	</div>

 
    {{/each}}
</template>

